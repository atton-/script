# target name
TARGET=<tex_file_name_without_extension>

# suffix rules
.SUFFIXES: .pdf .dvi .tex

.tex.dvi:
	platex $<
	platex $<
	platex $<

.dvi.pdf:
	dvipdfmx $<

# dependencies
$(TARGET).pdf : $(TARGET).dvi
$(TARGET).dvi : $(wildcard **/*.tex)

# commands
.PHONY : all open clean

all : $(TARGET).pdf

open : $(TARGET).pdf
	open $(TARGET).pdf

clean:
	rm -f *.dvi *.aux *.log *.pdf *.ps *.gz *.bbl *.blg *.toc *~ *.core
